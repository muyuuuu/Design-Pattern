# 模板方法模式

以考试作答为例，应该将试卷和答案分离开，而不是将试卷和学生的作答放到一个类中，修改会很累。

但是每个学生中，都有类似的代码：

```cpp
base.question1();
answer("A");
base.question2();
answer("A");
base.question3();
answer("A");
```

对于每个学生而言，除了`ABCD`，剩下的都是一样的。所以应该抽象出一个父类。

完成某一细节层次一致的一个过程，只有个别步骤可能不同，考虑模板方法模式来处理。如姓名、答案不同，但做到了对试卷的最大复用。

模板方法模式：定义一个操作中的算法的骨架，而将一些步骤延迟到子类中。使得子类可以不改变一个算法的结构，即可冲顶以该算法的某些特定步骤。

---

- `testpaper.h`，试卷类，包括问题和回答的虚函数
- `stu1.h`，第一个学生，继承试卷类，实现回答的虚函数
- `stu2.h`，第二个学生，继承试卷类，实现回答的虚函数
- `main.cpp`，`g++` 编译运行。可以通过穿参，在客户端实现回答

模板方法模式通过把不变行为搬迁到超类，去除子类中的重复代码。提供很好的代码复用平台，帮助子类摆脱重复的不变行为的纠缠。