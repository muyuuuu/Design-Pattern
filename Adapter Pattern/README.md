# 适配器模式

将一个类的接口转换成客户希望的另外一个接口。使原本由于接口不兼容，不能一起工作的那些类可以一起工作。简单的说，就是需要的东西就在眼前，但不能用，短时间无法改造，于是想办法适配它。即，使得一个东西去适合另外一个东西。

也就是系统和数据都正确，但接口不符合，使用适配器使控制范围之外的一个原有对象与某个接口匹配。希望复用一些现存的类，但接口与当前复用环境不一致。

举个实际的例子，去美国干事几天，英语不太好。短时间内精通英语不现实；让外国人说中文也不现实；所以配个翻译，这里的翻译可以理解为适配器。

---

- `player.h`，虚基类，实现进攻和防守
- `concreteplayer.h`，继承 player.h，实现具体的前锋、中锋和后卫，包括具体的进攻防守方法，能听懂英文
- `foreignplayer.h`，一个具体的球员，有自己的进攻和防守方法，听不懂英文
- `translator.h`，继承 player.h，适配器，为中文球员做翻译，实现进攻和防守方法
- `main.cpp`，g++ 编译运行

上面的程序中，使用一个已经存在的类，接口和自己的要求不符合，但所做的事情相同或类似，考虑使用适配器模式。客户端统一调用接口就行，简单直接且紧凑。

有一种亡羊补牢的感觉，但软件总有维护的一天，不同的产品难免接口不同，此时就可以使用适配器。如常见的笔记本的『电源适配器』。在类的设计初期并不常见，而是双方的类都不太容易修改的时候应用。

如果开发一个第三方组件，接口和自己系统的接口不同，没必要为了它而修改自己系统的接口，此时可以考虑使用适配器模式。

---

- 能事先预防接口变化的问题，就不会发生不匹配；
- 出现小的接口不统一问题，即使重构，问题不会扩大；
- 碰到无法改变原有设计，考虑适配

事后不如事中，事中不如事前。所以不要过度依赖适配器模式。