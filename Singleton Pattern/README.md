# 单例模式

在 `GUI` 设计中，经常会遇到子窗口的界面。假设此时的需求是：点击按钮，显示子窗口，子窗口要么不显示，要么只显示一个。

解决方案：判断当前窗口是否已经有实例，有的话，跳过；没有的话，创建。

假设此时不止有一个按钮会触发显示子窗口，有 5 个按钮都会调用显示子窗口的函数。此时不要粘贴复制，是最容易的编程，也是最没有价值的编程。应该提炼至一个函数。

---

- `version1.py`，python 中 `MDI` 的使用
- `version2.py`，每点击一次按钮就创建一个界面，但应该只创建一个界面
- `version3.py`，每点击一次按钮就创建一个界面，只创建一个界面。关闭后能再次创建，仍然只创建一个界面。

客户端不考虑是否实例化的问题，将责任推给子类去实现。如：『领导问，程序写没写完，员工只要回答写完还是没写完，写没写完由下属判断，而不是领导判断，领导只是问一问。』

---

单例模式：保证类仅有一个实例，提供一个访问全局点。虽然可以设置全局变量来限制对象的访问。但更好的方法是：类自身负责保护它的唯一实例。类本身保证没有其它实例被创建，提供一个访问该实例的方法。

好处：类封装唯一的实例，可以严格控制用户如何访问，使唯一的对象受控访问。如果涉及到多线程，就上锁，判断实例是否存在，不存在就加锁处理。